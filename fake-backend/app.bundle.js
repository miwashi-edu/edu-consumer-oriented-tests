(()=>{var e,n,t,r,i={474:(e,n,t)=>{t(818).config();var r={PORT:process.env.PORT||3e3,dbURI:process.env.DB_URI,secretKey:process.env.SECRET_KEY,anotherConfig:process.env.ANOTHER_CONFIG};e.exports=r},77:(e,n,t)=>{var r=t(456);n.listAllAnimals=function(e,n){n.json(r.listAllAnimals())},n.getAnimalById=function(e,n){var t=parseInt(e.params.animalId,10),i=r.getAnimalById(t);i?n.json(i):n.status(404).send({message:"Animal not found"})},n.createAnimal=function(e,n){var t=r.createAnimal(e.body);n.status(201).json(t)},n.updateAnimal=function(e,n){var t=parseInt(e.params.animalId,10),i=r.updateAnimal(t,e.body);i?n.json(i):n.status(404).send({message:"Animal not found"})},n.deleteAnimal=function(e,n){var t=parseInt(e.params.animalId,10),i=r.deleteAnimal(t);i?n.json(i):n.status(404).send({message:"Animal not found"})}},500:(e,n,t)=>{var r=t(193);n.listImages=function(e,n){r.listImages(e).then((function(e){n.send(e)})).catch((function(e){n.status(500).send(e)}))}},456:(e,n)=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var a=[{id:1,name:"Elephant",description:"A large mammal with a trunk.",imageUrl:"/images/elefant.jpg"},{id:2,name:"Gorilla",description:"A large, predominantly ground-dwelling ape.",imageUrl:"/images/gorilla.jpg"},{id:3,name:"Crocodile",description:"A large aquatic reptile with a powerful jaw.",imageUrl:"/images/crocodile.jpg"}];n.listAllAnimals=function(){return a},n.getAnimalById=function(e){return a.find((function(n){return n.id===e}))},n.createAnimal=function(e){var n=i({id:a.length+1},e);return a.push(n),n},n.updateAnimal=function(e,n){var t=a.findIndex((function(n){return n.id===e}));return-1!==t?(a[t]=i(i({},a[t]),n),a[t]):null},n.deleteAnimal=function(e){var n=a.findIndex((function(n){return n.id===e}));return-1!==n?a.splice(n,1)[0]:null}},193:(e,n,t)=>{var r=t(896),i=t(928).join(__dirname,"../../images");e.exports={listImages:function(e){return new Promise((function(n,t){r.readdir(i,(function(r,i){if(r)t("Failed to list images");else{var o="".concat(e.protocol,"://").concat(e.get("host"),"/images"),a=i.map((function(e){var n="".concat(o,"/").concat(e);return'<div class="image-item">\n                                <img src="'.concat(n,'" alt="').concat(e,'" style="width:100%;max-width:300px;">\n                                <button onclick="navigator.clipboard.writeText(\'').concat(n,"');alert('URL copied to clipboard!');\">Copy URL</button>\n                            </div>")})).join(""),s='<html><head>\n                                    <style>\n                                        .image-gallery {\n                                            display: flex;\n                                            flex-wrap: wrap;\n                                            justify-content: space-around;\n                                            padding: 0;\n                                            margin: 0;\n                                        }\n                                        .image-item {\n                                            margin: 10px;\n                                            border: 1px solid #ccc;\n                                            box-shadow: 2px 2px 6px 0px rgba(0,0,0,0.3);\n                                        }\n                                        button {\n                                            width: 100%;\n                                            padding: 8px;\n                                            border: none;\n                                            border-top: 1px solid #ccc;\n                                            background-color: lightgrey;\n                                            cursor: pointer;\n                                        }\n                                        button:hover {\n                                            background-color: grey;\n                                            color: white;\n                                        }\n                                    </style>\n                                  </head><body>\n                                    <h1>List of Images</h1>\n                                    <div class="image-gallery">'.concat(a,"</div>\n                                  </body></html>");n(s)}}))}))}}},106:(e,n,t)=>{var r=t(252),i=t(77),o=r.Router();o.get("/",i.listAllAnimals),o.get("/:animalId",i.getAnimalById),o.post("/",i.createAnimal),o.put("/:animalId",i.updateAnimal),o.delete("/:animalId",i.deleteAnimal),e.exports=o},925:(e,n,t)=>{var r=t(252),i=t(928),o=t(500),a=r.Router();a.get("/list-images",o.listImages),a.get("/:imageName",(function(e,n){var t=i.join(__dirname,"../../images",e.params.imageName);n.sendFile(t)})),e.exports=a},568:(e,n,t)=>{var r=t(252).Router();r.get("/stop",(function(e,n){n.send("Server is shutting down..."),process.kill(process.pid,"SIGTERM")})),e.exports=r},431:(e,n,t)=>{var r=t(252),i=t(320),o=t(450),a=t(928),s=t(106),l=t(925),c=t(568),u=o({swaggerDefinition:{openapi:"3.0.0",info:{title:"Animal App API",version:"1.0.0",description:"API to manage animal information and images"},servers:[{url:"http://localhost:3000"}]},apis:["./src/routes/*.js"]}),p=r();p.use(r.json()),p.use("/api-docs",i.serve,i.setup(u)),p.use("/animals",s),p.use("/images",l),p.use("/operations",c),p.use("/images",r.static(a.join(__dirname,"../images"))),p.use("*",(function(e,n){n.redirect("/api-docs")})),e.exports=p},818:e=>{"use strict";e.exports=require("dotenv")},252:e=>{"use strict";e.exports=require("express")},450:e=>{"use strict";e.exports=require("swagger-jsdoc")},320:e=>{"use strict";e.exports=require("swagger-ui-express")},896:e=>{"use strict";e.exports=require("fs")},928:e=>{"use strict";e.exports=require("path")}},o={};function a(e){var n=o[e];if(void 0!==n)return n.exports;var t=o[e]={exports:{}};return i[e](t,t.exports,a),t.exports}e=a(431),n=a(474).PORT,t=e.listen(n,(function(){console.log("Server started on port ".concat(n)),console.log("Ctrl-C to stop server!")})),r=function(){console.log("Gracefully shutting down..."),t.close((function(){console.log("Server shut down."),process.exit(0)}))},process.on("SIGTERM",r),process.on("SIGINT",r)})();